# 希爾伯特轉換 (Hilbert Transform) 分析

## 原理說明

希爾伯特轉換是一種重要的數學工具，用於將實數信號轉換為解析信號，從而提取信號的瞬時特徵。在軸承振動信號分析中，希爾伯特轉換主要用於：
- 提取信號的包絡線 (envelope)
- 計算瞬時相位 (instantaneous phase)
- 計算瞬時頻率 (instantaneous frequency)

其核心概念是將原始信號 x(t) 轉換為解析信號 z(t) = x(t) + jH[x(t)]，其中 H[x(t)] 是 x(t) 的希爾伯特轉換結果。

## 關鍵概念

1. **解析信號 (Analytic Signal)**: z(t) = x(t) + jH[x(t)]
   - 將實數信號轉換為複數形式，便於分析瞬時特性

2. **包絡線 (Envelope)**: A(t) = |z(t)| = √(x²(t) + H[x(t)]²)
   - 表示信號的瞬時振幅變化

3. **瞬時相位 (Instantaneous Phase)**: φ(t) = arctan(H[x(t)] / x(t))
   - 表示信號的瞬時相位角

4. **瞬時頻率 (Instantaneous Frequency)**: f(t) = (1/2π) · dφ/dt
   - 相位對時間的導數，表示信號的瞬時頻率變化

5. **NB4 特徵 (Normalized Bispectrum 4th order)**: N·Σ(A-μ)⁴ / [Σ(A-μ_segment)²/M]²
   - 正規化四次矩（分段），用於檢測包絡線的尖峰特性

## 處理流程

1. 輸入原始振動信號 (水平和垂直方向)
2. 執行希爾伯特轉換計算解析信號
3. 提取包絡線、瞬時相位和瞬時頻率
4. 計算 NB4 特徵值
5. 計算包絡線統計特徵 (RMS、峰值、峰峰值等)
6. 生成分析結果和可視化圖表

## 主要特徵

- **包絡RMS**: 包絡信號的均方根值，反映整體振動能量
- **包絡峰值**: 包絡信號的最大值，用於檢測衝擊強度
- **峰峰值**: 包絡信號的峰值與谷值之差
- **NB4**: 正規化四次矩特徵，對包絡線的尖峰敏感
- **瞬時頻率**: 反映信號頻率的瞬時變化

## 故障頻率診斷準則

1. **NB4 > 3**: 表示包絡線存在顯著峰值，可能有衝擊或缺陷
2. **包絡 RMS 上升**: 表示整體振動能量增加
3. **瞬時頻率波動大**: 表示非穩態運轉或存在故障
4. **包絡峰值異常**: 表示可能存在週期性衝擊

## 應用場景

- **調幅信號分析**: 檢測調製現象
- **軸承故障檢測**: 特別適用於檢測早期故障和微小缺陷
- **瞬時特徵提取**: 分析非平穩信號的瞬時變化
- **衝擊檢測**: 檢測週期性或非週期性衝擊信號

## 圖表中 x, y 軸含意

1. **包絡線波形圖**:
   - x軸: 時間 (sample) 或 角度 (Degree)
   - y軸: 包絡振幅 (amplitude)

2. **瞬時頻率圖**:
   - x軸: 時間 (sample) 或 角度 (Degree)
   - y軸: 瞬時頻率 (Hz)

3. **複數解析信號圖**:
   - x軸: 實部 (real component)
   - y軸: 虛部 (imaginary component)