# 時域特徵分析原理與應用

## 原理說明

時域特徵分析直接從原始振動信號中提取統計特徵，用於機械設備的整體健康評估。這些特徵反映了振動信號在時間域的基本統計特性，是振動分析中最基礎也是最重要的分析方法之一。通過分析時域信號的統計特徵，可以了解設備的振動能量、衝擊特性、波形分布等情況。

## 關鍵概念

### 1. Peak（峰值）
反映信號的最大振幅範圍，計算方式為最大值與最小值之差。峰值是檢測衝擊和瞬態事件的重要指標。

### 2. RMS（均方根值）
反映信號的總體振動能量，是最常用的健康監測指標。RMS值與信號的能量成正比，是評估設備整體振動水平的標準指標。

### 3. Kurtosis（峰度）
反映信號分佈的尖銳程度，異常升高表示信號中存在衝擊成分。峰度是檢測早期故障的重要指標。

### 4. Crest Factor（波峰因數）
反映峰值與RMS值的比值，用於識別信號中是否存在衝擊或瞬態事件。

### 5. EO（Energy Operator，能量算子）
用於檢測信號中的非線性調製特性和瞬態特徵。

## 主要特徵計算公式

### Peak（峰值）
```
Peak = max(|signal|) - min(|signal|)
```

### RMS（均方根值）
```
RMS = sqrt(mean(signal^2))
```

### Kurtosis（峰度）
```
Kurtosis = E[(X-μ)^4] / σ^4
```
其中 E 是期望值，μ 是均值，σ 是標準差

### Crest Factor（波峰因數）
```
CF = Peak / RMS
```

### EO（能量算子）
```
EO = (N^2 * Σ(δ^4)) / (Σ(δ^2)^2)
```
其中 δ 是信號的差分值

## 故障頻率的基準

時域特徵分析不像頻域分析那樣直接對應特定的故障頻率，而是通過統計特徵的變化來識別異常狀態：

- **正常狀態**: RMS值穩定，Kurtosis值在正常範圍內（通常小於8）
- **早期故障**: Kurtosis值開始升高，可能存在輕微衝擊
- **嚴重故障**: RMS值急劇上升，Kurtosis值明顯高於8
- **預壓失效**: RMS值可能突然下降，表明預壓鬆動

## 應用場景

### 1. 磨損程度監測
通過RMS值的緩慢上升趨勢監測設備的磨損情況，適用于長期趨勢分析。

### 2. 預壓狀態評估
評估線性滑軌的預壓狀態，確保設計預壓與實際相符，避免預壓失效或過緊。

### 3. 異常檢測
通過時域特徵的突然變化檢測設備異常，如突發的衝擊或振動增加。

### 4. 衝擊事件識別
利用Crest Factor和Kurtosis識別振動信號中的衝擊事件，檢測軸承或齒輪的局部缺陷。

## 診斷準則

- **RMS 緩慢上升** → 表示磨損加劇或負載增加
- **Kurtosis > 8** → 表示存在嚴重衝擊，可能存在軸承或齒輪缺陷
- **RMS 突然下降** → 可能表示預壓失效或系統鬆動
- **Crest Factor 增加** → 表示信號中出現更多峰值或衝擊

## 實際應用建議

1. **建立基線**: 在設備正常運行時建立各項時域特徵的基線值
2. **趨勢分析**: 定期監測特徵值的變化趨勢
3. **多特徵結合**: 同時監測多個特徵，避免單一指標的誤判
4. **環境補償**: 考慮運行條件變化對特徵值的影響
5. **早期預警**: 根據特徵值變化設置早期預警閾值

## 演算法實現

後端實現通過 `timedomain.py` 模組提供以下計算方法：
- `peak()`: 計算峰值
- `avg()`: 計算平均值
- `rms()`: 計算均方根值
- `cf()`: 計算波峰因數
- `kurt()`: 計算峰度
- `eo()`: 計算能量算子

前端通過 API 調用後端計算服務，並以圖表形式展示計算結果，支持選擇不同軸承和檔案進行分析。